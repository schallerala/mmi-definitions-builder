\input{preamble.tex}
\begin{document}
\setcounter{section}{5}
\setcounter{subsection}{2}
\setcounter{dfn}{10}




\begin{proof}[Proof of Theorem \ref{thm:ChomskyForm}]
Let $L$ be a language without $\epsilon$.
By Lemma \ref{lem:NoENoUnit} there is a grammar $G$ without $\epsilon$ and unit productions such that $L = L(G)$.
If a production of $G$ has a single symbol on the right, then this symbol is a terminal, so the production is of the form $A \to a$.

Any other production of $G$ has the form
\[
A \to X_1 X_2 \cdots X_n, \quad n \ge 2,
\]
where every $X_i$ is either a variable or a terminal.
If $X_i = a$ is a terminal, then introduce a new variable $C_a$ and a new production $C_a \to a$.
In the ``long'' ($n \ge 2$) right hand sides of all productions replace $a$ by $C_a$.
Clearly, the new grammar $G'$ generates the same language as the old one.

In the grammar $G'$, all productions are of the form $A \to a$ or $A \to B_1 \cdots B_n$, $n \ge 2$.
Create a new grammar $G''$ by introducing for each production of a ``long'' ($n \ge 3$) word a new set of variables $D_1, \ldots, D_{n-2}$
and replacing this production by a set of productions
\[
A \to B_1D_1, \quad D_1 \to B_2D_2, \ldots, \quad D_{n-3} \to B_{n-2}D_{n-2}, \quad D_{n-2} \to B_{n-1}B_n.
\]
Again, it is not hard to convince yourself that the new grammar generates the same language.
\end{proof}


\end{document}
